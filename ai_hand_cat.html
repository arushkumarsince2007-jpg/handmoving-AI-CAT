<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Hand Mirroring Cat</title>

<style>
  body {
    background: #1e1e1e;
    color: white;
    text-align: center;
    font-family: Arial;
  }

  .container {
    display: flex;
    justify-content: space-around;
    margin-top: 20px;
  }

  video, canvas {
    width: 45%;
    aspect-ratio: 1/1;
    border: 2px solid white;
    background: black;
    border-radius: 12px;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

</head>
<body>

<h2>ğŸ¤– AI Hand Mirroring Cat ğŸ±</h2>

<div class="container">
  <video id="userCam" autoplay playsinline></video>
  <canvas id="catCanvas" width="500" height="500"></canvas>
</div>

<script>
const video = document.getElementById("userCam");
const canvas = document.getElementById("catCanvas");
const ctx = canvas.getContext("2d");

let handX = 250, handY = 250;

// Draw SVG Cat
function drawCat() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.save();
  ctx.translate(handX, handY);

  // Body
  ctx.beginPath();
  ctx.arc(0, 60, 80, 0, Math.PI * 2);
  ctx.fillStyle = "#ffcc66";
  ctx.fill();

  // Head
  ctx.beginPath();
  ctx.arc(0, -40, 60, 0, Math.PI * 2);
  ctx.fill();

  // Eyes
  ctx.fillStyle = "black";
  ctx.beginPath(); ctx.arc(-20, -50, 10, 0, Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(20, -50, 10, 0, Math.PI*2); ctx.fill();

  // Mouth
  ctx.beginPath();
  ctx.arc(0, -25, 15, 0, Math.PI);
  ctx.strokeStyle = "black";
  ctx.lineWidth = 3;
  ctx.stroke();

  // Paw following hand
  ctx.fillStyle = "#ffcc66";
  ctx.beginPath();
  ctx.arc(-50, 40, 25, 0, Math.PI * 2);
  ctx.fill();

  ctx.restore();

  requestAnimationFrame(drawCat);
}
drawCat();

// MediaPipe Logic
const hands = new Hands({
  locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`,
});

hands.setOptions({
  maxNumHands: 1,
  modelComplexity: 1,
  smoothLandmarks: true,
});

hands.onResults((results) => {
  if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {
    let x = results.multiHandLandmarks[0][9].x;
    let y = results.multiHandLandmarks[0][9].y;

    handX = x * canvas.width;
    handY = y * canvas.height;
  }
});

const camera = new Camera(video, {
  onFrame: async () => {
    await hands.send({ image: video });
  },
  width: 450,
  height: 450
});
camera.start();
</script>

</body>
</html>
